#| Tom Collins
   Wednesday 10 February 2010
   Completed Wednesday 10 February 2010 |#

#| The purpose is to create a vector representation
of Bach's Prelude in E Major, BWV 854.

; REQUIRED PACAKGES
; (in-package :common-lisp-user)
(load
 (concatenate
  'string
  "/Applications/CCL/Lisp code/Maths foundation"
  "/list-processing.lisp"))
(load
 (concatenate
  'string
  "/Applications/CCL/Lisp code/File conversion"
  "/midi-save.lisp"))
(load
 (concatenate
  'string
  "/Applications/CCL/Lisp code/Maths foundation"
  "/set-operations.lisp"))
(load
 (concatenate
  'string
  "/Applications/CCL/Lisp code/File conversion"
  "/text-files.lisp"))
(load
 (concatenate
  'string
  "/Applications/CCL/Lisp code/File conversion"
  "/director-musices.lisp"))

(director-musices2dataset
 (concatenate
  'string
  "/Users/tec69/Open/Potential thesis chapters"
  "/Exhaustive algorithms for discovering exact "
  "translational patterns in Scarlatti's "
  "keyboard sonatas/Director musices/BWV 854.txt"))
|#

(progn
  (setq
   dataset
   '(
     #|1|#
     (0 52 55 21/2 3) (0 64 62 1/2 0)
     (1/2 68 64 1/2 0) (1 71 66 1/2 0)
     (3/2 56 57 3/2 2) (3/2 76 69 1/2 0)
     (2 75 68 1/2 0) (5/2 76 69 1/2 0) (3 57 58 2 2)
     (3 73 67 1/2 0) (7/2 71 66 1/2 0)
     (4 73 67 1/2 0) (9/2 76 69 3/2 0)
     (5 56 57 1/2 2) (11/2 54 56 1/2 2)
     #|2|#
     (6 56 57 2 2) (6 71 66 1/2 0)
     (13/2 69 65 1/2 0) (7 71 66 1/2 0)
     (15/2 76 69 3/2 0) (8 57 58 1/2 2)
     (17/2 56 57 1/2 2) (9 54 56 3 2)
     (9 69 65 1/2 0) (19/2 71 66 1/2 0)
     (10 73 67 1/2 0) (21/2 51 54 3/2 3)
     (21/2 71 66 1/2 0) (11 73 67 1/2 0)
     (23/2 69 65 1/2 0)
     #|3|#
     (12 52 55 1/2 2) (12 52 55 1/2 3)
     (12 68 64 1/2 0) (25/2 56 57 1/2 3)
     (25/2 71 66 1/2 0) (13 59 59 1/2 3)
     (13 76 69 1/2 0) (27/2 64 62 1/2 3)
     (27/2 80 71 2 0) (14 63 61 1/2 3)
     (29/2 64 62 1/2 3) (15 58 58 3 3)
     (31/2 78 70 1/2 0) (16 61 60 1/2 2)
     (16 76 69 1/2 0) (33/2 66 63 3/2 2)
     (33/2 75 68 1/2 0) (17 76 69 1/2 0)
     (35/2 73 67 1/2 0) (18 47 52 1/2 3)
     #|4|#
     (18 75 68 7/2 0) (37/2 51 54 1/2 3)
     (19 54 56 1/2 3) (39/2 59 59 1/2 3)
     (20 58 58 1/2 3) (41/2 59 59 1/2 3)
     (21 52 55 3 3) (43/2 76 69 1/2 0)
     (22 59 59 1/2 2) (22 78 70 1/2 0)
     (45/2 64 62 3 2) (45/2 80 71 1/2 0)
     (23 73 67 1/2 0) (47/2 76 69 1/2 0)
     #|5|#
     (24 54 56 17/2 3) (24 66 63 1/2 0)
     (49/2 70 65 1/2 0) (25 73 67 1/2 0)
     (51/2 63 61 7/2 2) (51/2 78 70 1/2 0)
     (26 76 69 1/2 0) (53/2 78 70 1/2 0)
     (27 68 64 1/2 0) (55/2 71 66 1/2 0)
     (28 75 68 1/2 0) (57/2 76 69 3/2 0)
     (29 61 60 1/2 2) (59/2 59 59 1/2 2)
     #|6|#
     (30 58 58 9/2 2) (30 66 63 1/2 0)
     (61/2 70 65 1/2 0) (31 73 67 1/2 0)
     (63/2 76 69 1/2 0) (32 75 68 1/2 0)
     (65/2 49 53 1/2 3) (65/2 76 69 1/2 0)
     (33 50 54 2 3) (33 66 63 1/2 0)
     (67/2 70 65 1/2 0) (34 73 67 1/2 0)
     (69/2 59 59 2 2) (69/2 74 68 2 0)
     (35 52 55 1/2 3) (71/2 54 56 1/2 3)
     #|7|#
     (36 55 57 3 3) (73/2 61 60 1/2 2)
     (73/2 76 69 1/2 0) (37 62 61 1/2 2)
     (37 74 68 1/2 0) (75/2 64 62 7/2 2)
     (75/2 73 67 1/2 0) (38 74 68 1/2 0)
     (77/2 71 66 1/2 0) (39 54 56 2 3)
     (39 70 65 1/2 0) (79/2 68 64 1/2 0)
     (40 66 63 1/2 0) (81/2 79 71 1/2 0)
     (41 56 57 1/2 3) (41 63 61 1/2 2)
     (41 78 70 1/2 0) (83/2 58 58 1/2 3)
     (83/2 61 60 1/2 2) (83/2 77 69 1/2 0)
     #|8|#
     (42 59 59 1 3) (42 59 59 2 2) (42 76 69 1/2 0)
     (85/2 75 68 1/2 0) (43 53 55 1/2 3)
     (43 74 68 1/2 0) (87/2 54 56 3/2 3)
     (87/2 73 67 1/4 0) (175/4 75 68 1/4 0)
     (44 58 58 1/2 2) (44 76 69 1/2 0)
     (89/2 64 62 1/2 2) (89/2 70 65 1/2 0)
     (45 47 52 1/2 3) (45 63 61 3 2)
     (45 71 66 7/2 0) (91/2 51 54 1/2 3)
     (46 54 56 1/2 3) (93/2 59 59 1/2 3)
     (47 57 58 1/2 3) (95/2 59 59 1/2 3)
     #|9|#
     (48 56 57 2 3) (97/2 75 68 1/2 0)
     (49 78 70 1/2 0) (99/2 83 73 1/2 0)
     (50 54 56 1/2 3) (50 81 72 1/2 0)
     (101/2 56 57 1/2 3) (101/2 83 73 1/2 0)
     (51 53 55 3 3) (51 73 67 1/2 0)
     (103/2 56 57 1/2 2) (103/2 77 69 1/2 0)
     (52 59 59 1/2 2) (52 80 71 1/2 0)
     (105/2 62 61 1/2 2) (105/2 83 73 2 0)
     (53 59 59 1/2 2) (107/2 61 60 2 2)
     #|10|#
     (54 54 56 3/2 3) (109/2 80 71 1/2 0)
     (55 81 72 1 0) (111/2 50 54 3/2 3)
     (111/2 59 59 3/2 2) (56 78 70 1/2 0)
     (113/2 80 71 1 0) (57 51 54 3/2 3)
     (57 60 59 3/2 2) (115/2 77 69 1/2 0)
     (58 78 70 1/2 0) (117/2 49 53 3/2 3)
     (117/2 61 60 3/2 2) (117/2 77 69 1/4 0)
     (235/4 78 70 1/4 0) (59 80 71 1/2 0)
     (119/2 73 67 1/2 0)
     #|11|#
     (60 47 52 6 3) (60 74 68 5 0)
     (121/2 50 54 1/2 2) (121/2 71 66 1/2 1)
     (61 53 55 1/2 2) (61 68 64 1/2 1)
     (123/2 56 57 1/2 2) (123/2 65 62 1/2 1)
     (62 59 59 1/2 2) (62 68 64 1/2 1)
     (125/2 57 58 1/2 2) (125/2 66 63 1/2 1)
     (63 59 59 1/2 2) (63 68 64 1/2 1)
     (127/2 56 57 1/2 2) (127/2 71 66 1/2 1)
     (64 54 56 1/2 2) (64 69 65 1/2 1)
     (129/2 56 57 1/4 2) (129/2 71 66 2 1)
     (259/4 57 58 1/4 2) (65 59 59 1/2 2)
     (65 74 68 1/2 0) (131/2 53 55 1/2 2)
     (131/2 73 67 1/2 0)
     #|12|#
     (66 54 56 3/2 3) (66 73 67 2 0)
     (133/2 69 65 1/2 1) (67 68 64 1/2 1)
     (135/2 45 51 3/2 3) (135/2 66 63 3 1)
     (68 71 66 1/2 0) (137/2 69 65 1/2 0)
     (69 47 52 3/2 3) (69 68 64 1/2 0)
     (139/2 69 65 1/2 0) (70 71 66 1 0)
     (141/2 49 53 3/2 3) (141/2 65 62 3/2 1)
     (71 69 65 1/2 0) (143/2 68 64 1/2 0)
     #|13|#
     (72 42 49 1/2 3) (72 66 63 5/2 1)
     (72 69 65 2 0) (145/2 45 51 1/2 3)
     (73 49 53 1/2 3) (147/2 54 56 1/2 3)
     (74 52 55 1/2 3) (74 71 66 1/2 0)
     (149/2 54 56 1/2 3) (149/2 64 62 1/2 1)
     (149/2 68 64 1/2 0) (75 47 52 1/2 3)
     (75 63 61 3/2 1) (75 69 65 2 0)
     (151/2 51 54 1/2 3) (76 54 56 1/2 3)
     (153/2 59 59 1/2 3) (77 57 58 1/2 3)
     (77 71 66 1/4 0) (309/4 69 65 1/4 0)
     (155/2 59 59 1/2 3) (155/2 68 64 1/4 0)
     (311/4 66 63 1/4 0)
     #|14|#
     (78 52 55 1/2 3) (78 68 64 1/4 0)
     (313/4 66 63 1/4 0) (157/2 56 57 1/2 3)
     (157/2 64 62 1/4 0) (315/4 66 63 1/4 0)
     (79 59 59 1/2 3) (79 68 64 1/4 0)
     (317/4 69 65 1/4 0) (159/2 64 62 1/2 3)
     (159/2 71 66 1/4 0) (319/4 69 65 1/4 0)
     (80 62 61 1/2 3) (80 68 64 1/4 0)
     (321/4 69 65 1/4 0) (161/2 61 60 1/2 3)
     (161/2 71 66 1/4 0) (323/4 73 67 1/4 0)
     (81 59 59 1 3) (81 74 68 1/4 0)
     (325/4 73 67 1/4 0) (163/2 71 66 1/4 0)
     (327/4 69 65 1/4 0) (82 57 58 1/2 3)
     (82 68 64 1/4 0) (329/4 66 63 1/4 0)
     (165/2 56 57 1/4 3) (165/2 64 62 1/2 0)
     (331/4 62 61 1/4 3) (83 61 60 1/4 3)
     (333/4 59 59 1/4 3) (167/2 57 58 1/4 3)
     (335/4 56 57 1/4 3)
     #|15|#
     (84 57 58 21/2 3) (84 69 65 1/2 0)
     (169/2 73 67 1/2 0) (85 76 69 1/2 0)
     (171/2 61 60 3/2 2) (171/2 81 72 1/2 0)
     (86 80 71 1/2 0) (173/2 81 72 1/2 0)
     (87 62 61 2 2) (87 78 70 1/2 0)
     (175/2 76 69 1/2 0) (88 78 70 1/2 0)
     (177/2 81 72 3/2 0) (89 61 60 1/2 2)
     (179/2 59 59 1/2 2)
     #|16|#
     (90 61 60 2 2) (90 76 69 1/2 0)
     (181/2 74 68 1/2 0) (91 76 69 1/2 0)
     (183/2 81 72 3/2 0) (92 62 61 1/2 2)
     (185/2 61 60 1/2 2) (93 59 59 3 2)
     (93 74 68 1/2 0) (187/2 76 69 1/2 0)
     (94 78 70 1/2 0) (189/2 56 57 3/2 3)
     (189/2 76 69 1/2 0) (95 78 70 1/2 0)
     (191/2 74 68 1/2 0)
     #|17|#
     (96 45 51 1/2 3) (96 73 67 1/2 0)
     (193/2 49 53 1/2 3) (193/2 69 65 1/2 0)
     (97 52 55 1/2 3) (97 71 66 1/2 0)
     (195/2 57 58 1/2 3) (195/2 73 67 2 0)
     (98 56 57 1/2 3) (197/2 57 58 1/2 3)
     (99 51 54 3 3) (199/2 71 66 1/2 0)
     (100 54 56 1/2 2) (100 69 65 1/2 0)
     (201/2 59 59 3/2 2) (201/2 68 64 1/2 0)
     (101 69 65 1/2 0) (203/2 66 63 1/2 0)
     #|18|#
     (102 40 48 1/2 3) (102 68 64 1/2 0)
     (205/2 44 50 1/2 3) (205/2 64 62 1/2 0)
     (103 47 52 1/2 3) (103 66 63 1/2 0)
     (207/2 52 55 1/2 3) (207/2 68 64 2 0)
     (104 51 54 1/2 3) (209/2 52 55 1/2 3)
     (105 45 51 3 3) (211/2 69 65 1/2 0)
     (106 52 55 1/2 2) (106 71 66 1/2 0)
     (213/2 57 58 3 2) (213/2 73 67 1/2 0)
     (107 66 63 1/2 0) (215/2 69 65 1/2 0)
     #|19|#
     (108 47 52 17/2 3) (108 59 59 1/2 0)
     (217/2 63 61 1/2 0) (109 66 63 1/2 0)
     (219/2 56 57 7/2 2) (219/2 71 66 1/2 0)
     (110 69 65 1/2 0) (221/2 71 66 1/2 0)
     (111 61 60 1/2 0) (223/2 64 62 1/2 0)
     (112 68 64 1/2 0) (225/2 69 65 3/2 0)
     (113 54 56 1/2 2) (227/2 52 55 1/2 2)
     #|20|#
     (114 51 54 9/2 2) (114 59 59 1/2 0)
     (229/2 63 61 1/2 0) (115 66 63 1/2 0)
     (231/2 69 65 1/2 0) (116 68 64 1/2 0)
     (233/2 42 49 1/2 3) (233/2 69 65 1/2 0)
     (117 43 50 2 3) (117 59 59 1/2 0)
     (235/2 63 61 1/2 0) (118 66 63 1/2 0)
     (237/2 52 55 2 2) (237/2 67 64 2 0)
     (119 45 51 1/2 3) (239/2 47 52 1/2 3)
     #|21|#
     (120 48 53 3 3) (241/2 54 56 1/2 2)
     (241/2 69 65 1/2 0) (121 55 57 1/2 2)
     (121 67 64 1/2 0) (243/2 57 58 7/2 2)
     (243/2 66 63 1/2 0) (122 67 64 1/2 0)
     (245/2 64 62 1/2 0) (123 47 52 2 3)
     (123 63 61 1/2 0) (247/2 61 60 1/2 0)
     (124 59 59 1/2 0) (249/2 72 67 1/2 0)
     (125 49 53 1/2 3) (125 56 57 1/2 2)
     (125 71 66 1/2 0) (251/2 51 54 1/2 3)
     (251/2 54 56 1/2 2) (251/2 70 65 1/2 0)
     #|22|#
     (126 52 55 1 3) (126 52 55 2 2)
     (126 69 65 1/2 0) (253/2 68 64 1/2 0)
     (127 46 51 1/2 3) (127 67 64 1/2 0)
     (255/2 47 52 3/2 3) (255/2 66 63 1/4 0)
     (511/4 68 64 1/4 0) (128 51 54 1/2 2)
     (128 69 65 1/2 0) (257/2 57 58 1/2 2)
     (257/2 63 61 1/2 0) (129 49 53 3 3)
     (129 56 57 1/2 2) (129 64 62 17/2 0)
     (259/2 52 55 1/2 2) (130 56 57 1/2 2)
     (261/2 57 58 1/2 2) (131 56 57 1/2 2)
     (263/2 57 58 1/2 2)
     #|23|#
     (132 44 50 3 3) (132 52 55 3 2)
     (265/2 56 57 1/2 1) (133 59 59 1/2 1)
     (267/2 62 61 1/2 1) (134 61 60 1/2 1)
     (269/2 62 61 1/2 1) (135 45 51 1/2 2)
     (135 45 51 3 3) (135 61 60 5/2 1)
     (271/2 49 53 1/2 2) (136 52 55 1/2 2)
     (273/2 57 58 1/2 2) (137 56 57 1/2 2)
     (275/2 57 58 1/2 2) (275/2 60 60 1/2 1)
     (275/2 63 61 1/2 0)
     #|24|#
     (138 40 48 6 3) (138 56 57 6 2) (138 59 59 6 1)
     (138 64 62 6 0)))   
#|
  (saveit
   (concatenate
    'string
    "/Users/tec69/Open/Potential thesis chapters"
    "/Exhaustive algorithms for discovering exact"
    " translational patterns in Scarlatti's"
    " keyboard sonatas/MIDI/BWV 854.mid")
   (modify-to-check-dataset dataset 1500))
|#
)

